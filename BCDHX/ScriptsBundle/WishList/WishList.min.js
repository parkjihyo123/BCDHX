let Url = window.location.origin + "/WishListProduct/";
let UrlRemove = Url + "/RemoveWishListItem";
function sendRequest(url, method, data) {
    var d = $.Deferred();
    $.ajax(url, {
        method: "Post",
        data: data,
        cache: false,
        xhrFields: { withCredentials: true }
    }).done(function (result) {
        d.resolve();
    }).fail(function (xhr) {
        d.reject(xhr.responseJSON ? xhr.responseJSON.Message : xhr.statusText);
    });

    return d.promise();
}
function removeWishList(id) {
    let wishlistId = id;

    var d = $.Deferred();
    $.ajax(UrlRemove, {
        method: "Post",
        data: { productId: wishlistId },
        cache: false,
        xhrFields: { withCredentials: true }
    }).done(function (result) {
        d.resolve(ProcessRemoveWishList(result));
    }).fail(function (xhr) {
        d.reject(xhr.responseJSON ? xhr.responseJSON.Message : xhr.statusText);
    });

    return d.promise();
}
function ProcessRemoveWishList(rs) {
    if (rs.Status == 0) {
        Swal.fire({
            type: 'success',
            title: rs.Error,
            showConfirmButton: true,
            confirmButtonColor: '#F3D930'
        }).then((result) => {
            if (result.value) {
                window.location.reload();
            }
        })
    } else {
        Swal.fire({
            type: 'error',
            title: rs.Error,
            showConfirmButton: true,
            confirmButtonColor: '#F3D930'
        }).then((result) => {
            if (result.value) {
                window.location.reload();
            }
        })
    }
}

